Docker SJO
==========

$ source ~/Downloads/emsdk/emsdk_env.sh
$ cmake -G Ninja -DCMAKE_TOOLCHAIN_FILE=${EMSCRIPTEN}/cmake/Modules/Platform/Emscripten.cmake -DCMAKE_BUILD_TYPE=Release -DALLOW_DOWNLOADS=ON .. -DCMAKE_INSTALL_PREFIX=/tmp/stone
$ ninja install
$ docker run -p 4242:4242 -p 8042:8042 --rm -v /tmp/stone:/root/stone:ro -v /tmp/stone-db/:/var/lib/orthanc/db/ jodogne/orthanc-plugins:latest /root/stone/Configuration.json --verbose

WARNING: This won't work using "orthanc-plugins:1.5.6", as support for
PAM is mandatatory in "/instances/.../image-uint16".


Docker BGO
==========

On Ubuntu WSL
-------------
. ~/apps/emsdk/emsdk_env.sh
cd /mnt/c/osi/dev/
mkdir -p build_stone_newsamples_wasm_wsl
mkdir -p build_install_stone_newsamples_wasm_wsl
cd build_stone_newsamples_wasm_wsl
cmake -G Ninja -DCMAKE_TOOLCHAIN_FILE=${EMSCRIPTEN}/cmake/Modules/Platform/Emscripten.cmake -DCMAKE_BUILD_TYPE=Release -DALLOW_DOWNLOADS=ON /mnt/c/osi/dev/orthanc-stone/OrthancStone/Samples/WebAssembly -DCMAKE_INSTALL_PREFIX=/mnt/c/osi/dev/build_install_stone_newsamples_wasm_wsl
ninja install

Then, on Windows
-----------------
docker run -p 4242:4242 -p 8042:8042 --rm -v "C:/osi/dev/build_install_stone_newsamples_wasm_wsl:/root/stone:ro" jodogne/orthanc-plugins:1.5.6 /root/stone/Configuration.json --verbose

# WAIT A COUPLE OF SECS
# if the archive has NOT already been unzipped, unzip it
# upload dicom files to running orthanc

cd C:\osi\dev\twiga-orthanc-viewer\demo\dicomfiles
if (-not (test-path RTVIEWER-c8febcc6-eb9e22a4-130f208c-e0a6a4cd-4d432c57)) { unzip RTVIEWER-c8febcc6-eb9e22a4-130f208c-e0a6a4cd-4d432c57.zip}
ImportDicomFiles.ps1 127.0.0.1 8042 .\RTVIEWER-c8febcc6-eb9e22a4-130f208c-e0a6a4cd-4d432c57\

--> localhost:8042 --> Plugins --> serve-folders --> stone --> ...

Local BGO
==========

. ~/apps/emsdk/emsdk_env.sh
cd /mnt/c/osi/dev/
mkdir -p build_stone_newsamples_wasm_wsl
mkdir -p build_install_stone_newsamples_wasm_wsl
cd build_stone_newsamples_wasm_wsl
cmake -G Ninja -DCMAKE_TOOLCHAIN_FILE=${EMSCRIPTEN}/cmake/Modules/Platform/Emscripten.cmake -DCMAKE_BUILD_TYPE=Release -DALLOW_DOWNLOADS=ON /mnt/c/osi/dev/orthanc-stone/OrthancStone/Samples/WebAssembly -DCMAKE_INSTALL_PREFIX=/mnt/c/osi/dev/build_install_stone_newsamples_wasm_wsl



TODO: Orthanc.exe 


Local SJO
==========

$ source ~/Downloads/emsdk/emsdk_env.sh
$ cmake -G Ninja -DCMAKE_TOOLCHAIN_FILE=${EMSCRIPTEN}/cmake/Modules/Platform/Emscripten.cmake -DCMAKE_BUILD_TYPE=Release -DALLOW_DOWNLOADS=ON .. -DCMAKE_INSTALL_PREFIX=/tmp/stone
$ ninja install

$ make -C ~/Subversion/orthanc/r -j4
$ make -C ~/Subversion/orthanc-webviewer/r -j4
$ ~/Subversion/orthanc/r/Orthanc ../ConfigurationLocalSJO.json


Local AM
========

. ~/apps/emsdk/emsdk_env.sh
cd /mnt/c/o/
mkdir -p build_stone_newsamples_wasm_wsl
mkdir -p build_install_stone_newsamples_wasm_wsl
cd build_stone_newsamples_wasm_wsl
cmake -G Ninja -DCMAKE_TOOLCHAIN_FILE=${EMSDK}/fastcomp/emscripten/cmake/Modules/Platform/Emscripten.cmake -DORTHANC_FRAMEWORK_SOURCE=path -DORTHANC_FRAMEWORK_ROOT=/mnt/c/o/orthanc/ -DCMAKE_BUILD_TYPE=Release -DALLOW_DOWNLOADS=ON /mnt/c/o/orthanc-stone/OrthancStone/Samples/WebAssembly -DCMAKE_INSTALL_PREFIX=/mnt/c/o/build_install_stone_newsamples_wasm_wsl
ninja
